# 作物病害检测系统 - Spring Boot 配置

# 服务器配置
server.port=8080
server.servlet.context-path=/

# 应用信息
spring.application.name=crop-disease-detection

# H2 内存数据库配置（开发测试用）
spring.datasource.url=jdbc:h2:mem:cropdisease;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# H2 控制台配置（便于开发调试）
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# JPA 配置
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.open-in-view=false

# AI 服务配置
ai.service.url=http://localhost:5000
ai.service.detect-endpoint=/detect
ai.service.health-endpoint=/health

# 文件上传配置
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=16MB
spring.servlet.multipart.max-request-size=16MB

# 日志配置
logging.level.root=INFO
logging.level.com.graduation.cropdisease=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG

# JSON 序列化配置
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.time-zone=Asia/Shanghai

# 跨域配置（开发环境）
# 注意：生产环境应限制具体域名

# MySQL 数据库配置（生产环境使用时取消注释）
# spring.datasource.url=jdbc:mysql://localhost:3306/cropdisease?useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
# spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
# spring.datasource.username=root
# spring.datasource.password=your_password
# spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect
